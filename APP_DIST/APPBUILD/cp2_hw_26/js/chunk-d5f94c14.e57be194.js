(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d5f94c14"],{7501:function(e,t,r){"use strict";r("f245")},d40a:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"messageCenter"}},[r("p",{staticClass:"p-top"},[r("i",{staticClass:"iconfont icon-fanhui left",on:{click:e.golast}}),e._v("Message Center "),r("i",{staticClass:"right",on:{click:function(t){return e.ReadAll(2,0)}}},[e._v("All Read")])]),r("div",{staticClass:"level"},[r("p",{staticClass:"tab"},[r("span",{class:{activelevel:1===e.showActive},on:{click:function(t){return e.changeLevel(1)}}},[e._v("Income and Expenditure "),e.no_read1?r("i",{staticClass:"num"},[e._v(e._s(e._f("formatNum")(e.no_read1)))]):e._e()]),r("span",{class:{activelevel:2===e.showActive},on:{click:function(t){return e.changeLevel(2)}}},[e._v("System Notification "),e.no_read2?r("i",{staticClass:"num"},[e._v(e._s(e._f("formatNum")(e.no_read2)))]):e._e()])])]),r("div",{ref:"wrapper",staticClass:"wrapper"},[r("div",{staticClass:"conent"},[r("ul",e._l(e.List,(function(t,a){return r("li",{key:a,on:{click:function(r){return e.ToMsgDetail(1,t)}}},[r("p",[r("span",[e._v("The Assistant")]),r("span",[e._v(e._s(e._f("FormatTimeStamp")(t.create_time)))])]),r("p",[r("span",[e._v(" "+e._s(t.content)+" ")]),t.is_read?e._e():r("i",{staticClass:"num"},[e._v("1")])])])})),0),0===e.List.length?r("div",{staticClass:"nomore"},[e._v(" no more ")]):e._e()])])])},n=[],s=(r("b4fb"),r("6a61"),r("327b")),o=r("ecd2"),i={data:function(){return{agree_red:-1,showActive:1,nomore:!1,List:[],page:1,limit:20,message_type:1,total:0,no_read1:0,no_read2:0,routerType:[{value:1,router:"/BounsRecord"},{value:2,router:"/detailbalance"},{value:3,router:"/redEnvelopelist/".concat(0)},{value:4,router:"/sportsOrder"},{value:5,router:"/rechargerecord/".concat(1)},{value:6,router:"/rechargerecord/".concat(2)},{value:7,router:"/Withdrawalcord/".concat(1)},{value:8,router:"/Withdrawalcord/".concat(2)},{value:9,router:"/detailbalance"},{value:10,router:"/detailbalance"},{value:11,router:"/myorder/".concat(0)},{value:12,router:"/redEnvelopelist/".concat(1)},{value:13,router:"/detailbalance"},{value:14,router:"/Withdrawalcord/".concat(2)},{value:15,router:"/rechargerecord/".concat(2)},{value:16,router:"/detailbalance"},{value:17,router:"/detailbalance"},{value:18,router:"/detailbalance"},{value:20,router:"/detailbalance"}]}},created:function(){this.initData(),this.initUser()},mounted:function(){var e=this;this.scroll=new o["a"](this.$refs.wrapper,{click:!0,startY:0,pullDownRefresh:!1,pullUpLoad:{threshold:-50,moreTxt:"load more",noMoreTxt:"No more data"}}),this.$nextTick((function(){e.scroll.on("pullingUp",(function(){if(console.log("----"),e.List.length===e.total)return!1;e.page++,e.initData(),e.scroll.finishPullUp()})),e.scroll.refresh()}))},methods:{golast:function(){this.$router.go(-1)},changeLevel:function(e){this.showActive=e,this.List=[],this.page=1,this.message_type=e,this.initData()},ReadAll:function(e,t){var r=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,r.$axios.PutUser_Message({type_id:e,message_id:t});case 2:n=a.sent,s=n.data,1===s.code&&(r.List=[],r.initData());case 5:case"end":return a.stop()}}),a)})))()},ToMsgDetail:function(e,t){var r=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,r.$axios.PutUser_Message({type_id:e,message_id:t.id});case 2:if(n=a.sent,s=n.data,1!==s.code){a.next=8;break}for(o=0;o<r.routerType.length;o++)4===t.message_type?r.$router.push("/sportsOrder/".concat(t.by_jump_id,"/",2)):3===t.message_type&&0===r.agree_red||12===t.message_type&&0===r.agree_red?r.$router.push("redEnvelope"):r.routerType[o].value===t.message_type&&r.$router.push(r.routerType[o].router);a.next=9;break;case 8:return a.abrupt("return",!1);case 9:case"end":return a.stop()}}),a)})))()},initData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.GetUser_Message({page:e.page,limit:e.limit,message_type:e.message_type});case 2:r=t.sent,a=r.data,1===a.code&&(e.List=e.List.concat(a.data),e.total=a.total,e.no_read1=a.no_read1,e.no_read2=a.no_read2);case 5:case"end":return t.stop()}}),t)})))()},initUser:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.Home({recharge:""});case 2:r=t.sent,a=r.data,1===a.code&&(e.agree_red=a.data[0].agree_red);case 5:case"end":return t.stop()}}),t)})))()}},filters:{formatNum:function(e){if(""!==e)return e>99?"99+":e}}},c=i,u=(r("7501"),r("c701")),l=Object(u["a"])(c,a,n,!1,null,"7ec0610c",null);t["default"]=l.exports},f245:function(e,t,r){}}]);