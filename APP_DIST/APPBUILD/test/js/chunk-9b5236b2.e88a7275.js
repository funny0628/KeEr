(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b5236b2"],{"1e69":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"goodsbuy"}},[t.userInfo?a("div",{staticClass:"information"},[t._m(0),a("p",{staticClass:"name"},[t._v(t._s(t.userInfo.username))])]):t._e(),a("div",{staticClass:"bankmsg",on:{click:t.toAddresslist}},[t.iconl?a("i",{staticClass:"iconfont icon-dizhi b-left"}):a("div",{staticClass:"b-left"},[a("p",[a("span",{staticClass:"name"},[t._v(t._s(t.ChooseAddress.name))]),a("span",{staticClass:"phone"},[t._v(t._s(t.ChooseAddress.phone))])]),a("p",{staticClass:"b"},[t._v(" "+t._s(t.ChooseAddress.country)+t._s(t.ChooseAddress.city)+t._s(t.ChooseAddress.detail)+" ")])]),t._m(1)]),a("div",{staticClass:"goodsmsg"},[a("img",{staticClass:"g-left",attrs:{src:t.goods_info.giftimgurl,alt:""}}),a("div",{staticClass:"g-right"},[a("p",{staticClass:"msg"},[t._v(t._s(t.goods_info.giftname))]),a("p",{staticClass:"num"},[t._v(t._s(t.goods_info.quality))]),a("p",{staticClass:" quantity"},[t._v("Quantity: "+t._s(t.num))]),a("p",{staticClass:"col price"},[t._v(" Harga:"),a("i",{staticClass:"iconfont "},[t._v("IDR")]),t._v(" "+t._s(t._f("FormatFloatNum")(t.price))+" ")])])]),a("div",{staticClass:"pay",on:{click:t.InputPassWord}},[t._v("Bayar sekarang")]),a("popup",{model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[a("div",{staticClass:"password"},[a("p",{staticClass:"Please"},[t._v("Silakan masukkan kata sandi pembayaran")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.InputPassword,expression:"InputPassword"}],attrs:{type:"password",placeholder:"Silakan masukkan kata sandi pembayaran"},domProps:{value:t.InputPassword},on:{input:function(s){s.target.composing||(t.InputPassword=s.target.value)}}}),a("p",{staticClass:"btn"},[a("span",{staticClass:"Cancel",on:{click:t.Cancel}},[t._v("Membatalkan")]),a("span",{staticClass:"Confirm",on:{click:t.Confirm}},[t._v("Konfirmasi")])])])])],1)},n=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",{staticClass:"img"},[a("i",{staticClass:"iconfont icon-morentouxiang"})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",{staticClass:"b-right"},[a("i",{staticClass:"iconfont icon-next"})])}],o=(a("6a61"),a("cf7f")),i=(a("aa8d"),a("b89e")),r=(a("6add"),a("8913")),c={components:{Popup:r["a"],Toast:i["a"]},data:function(){return{show:!1,InputPassword:"",GoodsMsg:{},currentId:"",price:"",num:"",ChooseAddress:{},userInfo:{},goods_info:{},iconl:!1}},created:function(){this.currentId=this.$route.params.id,this.price=this.$route.params.price,this.num=this.$route.params.num,this.initData()},methods:{InputPassWord:function(){var t=this;if("{}"===JSON.stringify(this.ChooseAddress)){var s=1400,a=setInterval((function(){s-=200,t.$toast("！ Harap tambahkan alamat"),s||(clearInterval(a),s=1400,t.$router.push("/addresslist"))}),200);return!1}if(!this.userInfo.pay_pwd){this.$toast({message:"！Harap setel kata sandi pembayaran Anda"});var e=2,n=setInterval((function(){e--,e?t.$router.push("/Modifypayment"):(clearInterval(n),t.$toast.clear())}),1e3);return!1}this.show=!0},Cancel:function(){this.show=!1},Confirm:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var a,e,n,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(t.InputPassword){s.next=3;break}return t.$toast("! Silakan masukkan kata sandi pembayaran"),s.abrupt("return",!1);case 3:return s.next=5,t.$axios.PayNow({goods_id:t.currentId,goods_num:t.num,goods_cost:t.price*t.num,addr_id:t.ChooseAddress.id,pay_pwd:t.InputPassword});case 5:a=s.sent,e=a.data,1===e.code?(t.$toast("✔ Berhasil dibayar"),n=600,o=setInterval((function(){n-=200,n||(t.$router.push("/home"),t.$store.commit("Ch_increment",0),localStorage.setItem("COUNT",0),clearInterval(o),n=600)}),200)):t.$toast(e.msg);case 8:case"end":return s.stop()}}),s)})))()},toAddresslist:function(){this.$router.push("/addresslist")},initData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var a,e,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$axios.Getgopay({goods_id:t.currentId});case 2:a=s.sent,e=a.data,1===e.code?(t.userInfo=e.user[0]||{},t.goods_info=e.goods_info[0]||{},n=e.address,0===n.length?t.iconl=!0:(t.iconl=!1,t.ChooseAddress=n[0])):(t.$toast(e.msg),t.$router.push("/login"));case 5:case"end":return s.stop()}}),s)})))()}}},u=c,l=(a("4f65"),a("9ca4")),d=Object(l["a"])(u,e,n,!1,null,"84a4c768",null);s["default"]=d.exports},"4e4a":function(t,s,a){},"4f65":function(t,s,a){"use strict";var e=a("4e4a"),n=a.n(e);n.a},"6add":function(t,s,a){"use strict";a("d595"),a("352e"),a("11f9"),a("0380"),a("fe29")},8913:function(t,s,a){"use strict";var e=a("92df"),n=a("9941"),o=a("5df2"),i=a("2767"),r=Object(e["a"])("popup"),c=r[0],u=r[1];s["a"]=c({mixins:[Object(o["a"])()],props:{round:Boolean,duration:[Number,String],closeable:Boolean,transition:String,safeAreaInsetBottom:Boolean,closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"},position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){var t=this,s=function(s){return function(a){return t.$emit(s,a)}};this.onClick=s("click"),this.onOpened=s("opened"),this.onClosed=s("closed")},render:function(){var t,s=arguments[0];if(this.shouldRender){var a=this.round,e=this.position,o=this.duration,r="center"===e,c=this.transition||(r?"van-fade":"van-popup-slide-"+e),l={};if(Object(n["c"])(o)){var d=r?"animationDuration":"transitionDuration";l[d]=o+"s"}return s("transition",{attrs:{name:c},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[s("div",{directives:[{name:"show",value:this.value}],style:l,class:u((t={round:a},t[e]=e,t["safe-area-inset-bottom"]=this.safeAreaInsetBottom,t)),on:{click:this.onClick}},[this.slots(),this.closeable&&s(i["a"],{attrs:{role:"button",tabindex:"0",name:this.closeIcon},class:u("close-icon",this.closeIconPosition),on:{click:this.close}})])])}}})}}]);